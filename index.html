<!-- index.html -->
<!DOCTYPE html>
<html>
<head>
  <title>PsychTest å¿ƒç†æµ‹è¯•ä¸­å¿ƒ</title>
  <meta charset="utf-8">
</head>
<body>
  <h1>ğŸ§  å¿ƒç†æµ‹è¯•é›†åˆ</h1>
  <ul>
    <li><a href="/love">â¤ï¸ æ‹çˆ±å€¾å‘æµ‹è¯•</a></li>
    <li><a href="/color">ğŸ¨ è‰²å½©æ€§æ ¼æµ‹è¯•</a></li>
    <li><a href="/quiz">â“ å¿ƒç†å°æµ‹éªŒ</a></li>
    <li><a href="/personality">ğŸ‘¥ MBTIäººæ ¼æµ‹è¯•</a></li>
  </ul>
  <!-- æ•°æ®åŸ‹ç‚¹ -->
<script>
async function track(event, testId, result) {
  try {
    await fetch('/api/track', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ event, testId, result })
    });
  } catch (e) {
    // é™é»˜å¤±è´¥ï¼Œä¸å½±å“ç”¨æˆ·
  }
}

// é¡µé¢åŠ è½½æ—¶è®°å½•è®¿é—®
track('view', 'love');

// è°ƒç”¨æ­¤å‡½æ•°æ¥è®°å½•â€œæµ‹è¯•å®Œæˆâ€ï¼Œä¼ å…¥ä½ çš„ç»“æœç±»å‹
function recordTestCompletion(resultType) {
  track('complete', 'love', resultType);
}
</script>
</body>
</html>
